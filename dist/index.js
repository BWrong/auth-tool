!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["auth-tool"]=t():e["auth-tool"]=t()}(self,(function(){return(()=>{"use strict";var e={261:(e,t,r)=>{r.r(t),r.d(t,{authDirective:()=>l,default:()=>f,ganerAuthData:()=>p,util:()=>c});var n={};r.r(n);var i={};r.r(i),r.d(i,{convertToTree:()=>u,getParentsFromArray:()=>d,getParentsFromPermission:()=>s});let o={};function a(e=[],t={}){return e.filter((e=>{let r={...e};return!!function(e,t){return!e.meta?.permission||!!t[e.meta.permission]}(r,t)&&(r.children&&(r.children=a(r.children,t)),e.meta?.permission&&(o[e.meta.permission]=e),!0)}))}function u({data:e=[],pid:t=0,children:r="children",pidName:n="parentId",idName:i="id"}){let o=[];return e.map((a=>{if(a[n]===t){let t=a[r]||[];a[r]=t.concat(u({data:e,pid:a[i],children:r,pidName:n,idName:i})),o.push(a)}})),o}function d({id:e,data:t,idName:r="id",pidName:n="parentId",result:i=[]}){for(const o of t)o[r]===e&&(i.unshift(o),d({id:o[n],data:t,idName:r,pidName:n,result:i}));return i}function s(e){return e.split("/").reduce(((e,t)=>(e.push((e[e.length-1]||"")+(t?"/":"")+t),e)),[])}const c=i,p=({routes:e=[],permissions:t=[],authKey:r="permission"})=>{const n=function(e,t){return e.reduce(((e,r)=>(e[r[t]]=r,e)),{})}(t,r);return{authMap:n,routes:a(e,n),menus:function(e={},t=[],r){return t.map((n=>(n.url=n[r]&&e[n[r]]?.path||"",n.children?.length&&(n.children=this._addPathOfMenus(e,t,r)),n)))}(o,t,r)}},l=n.authDirectiveSrc,f={ganerAuthData:p,authDirective:l,util:i}}},t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}return r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(261)})()}));
//# sourceMappingURL=index.js.map